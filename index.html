<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
          <h1 class="display-4">Guess a car brand!</h1>
          <p class="lead">Guess a car brand. Type a letter to start the game</p>
          <p class="lead">Refresh the browser to start a new game</p>
          <hr>
          <p id=game></p>
          <p id=correctHint></p>
          <p id=user></p>
          <p id=userGuessDisplay></p>
          <p id=userPlayCounts></p>
        </div>
      </div>
    <script>
        var wordArr = [["b","m","w"],["h","o","n","d","a"],["n","i","s","s","a","n"],["f","o","r","d"],["m","i","n","i"],["t","e","s","l","a"]];
        console.log("word array length is: " + wordArr.length);
        var computerChoice = wordArr[Math.floor(Math.random() * wordArr.length)];
        console.log("computer choose brand is: " + computerChoice);
        console.log("computer choose word length is: " + computerChoice.length);
        var computerChoosenHint = "x".repeat(computerChoice.length);
        var hintArray = [];
        hintArray = Array(computerChoice.length).fill("x");
    
        console.log("hint array is: " + hintArray);
        console.log("this word looks like: " + computerChoosenHint);


        //var computerChoosenHintArray = [computerChoosenHint];
        //console.log("computer choosen word array is:" + computerChoosenHintArray);
        wordHintDisplay = computerChoosenHint;
        var wordHintDisplay = document.getElementById("game");
        // console.log("display is: " + wordHintDisplay);
        wordHintDisplay.innerHTML = "the word looks like this: "+ computerChoosenHint;
        var gameCount = 0;
        
        document.onkeyup = function(event) {
            gameCount++;
            console.log("key press count is " + gameCount);
            $("#userPlayCounts").text("You played this game " + gameCount + " times");

            var userText = document.getElementById("user");
            userText.textContent = event.key;
            userText.innerHTML = "you typed: " + event.key;
            var letterGuessPosition = computerChoice.indexOf(event.key);
            console.log("event.key is: " + event.key);
            console.log("user guessed letter position is: " + letterGuessPosition);
            //var userGuessDisplayShow = "x".repeat(letterGuessPosition) + event.key + "x".repeat((computerChoice.length-(letterGuessPosition+1)));

            if (letterGuessPosition === -1) {
                $("#userGuessDisplay").text("The letter you typed is not in the brand");
            }
            else {
                $("#userGuessDisplay").text("The letter you typed is in the brand. and it is the " + (letterGuessPosition+1) + "th letter.");
            }
            for (var i=0; i < computerChoice.length; i++) {
                if (computerChoice[i] === event.key) {
                    hintArray.splice(letterGuessPosition,1,event.key);
                    console.log("the new with corrected guessed work is: " + hintArray);
                    $("#correctHint").text("Your guess looks like this: " + hintArray);
                }
            }

        }
          
            

            //if (letterGuessPosition === 0) {
            //    newComputerChoosenHint = event.key + computerChoosenHint.substring(1,(computerChoice.length+1));
            //    console.log("hint with guess shows: " + newComputerChoosenHint);
            //    }
            //    else if (letterGuessPosition === 1) {
            //        newComputerChoosenHint = "x" + event.key + computerChoosenHint.substring((letterGuessPosition+1),(computerChoice.length+1));
            //        console.log("hint with guess shows: " + newComputerChoosenHint);
            //    }
            //    else {
            //    newComputerChoosenHint = computerChoosenHint.substring(0,(letterGuessPosition)) + event.key + computerChoosenHint.substring((letterGuessPosition+1),(computerChoice.length+1));
            //    computerChoosenHint.charAt(letterGuessPosition);
            //    console.log("hint with guess shows: " + newComputerChoosenHint);
            //    }
        
            //var res = computerChoosenHint.replace(computerChoosenHint.charAt(letterGuessPosition), event.key);
            //console.log("replace letter is " + res);
            //$("#userGuessDisplay").text("Your guess is: " + userGuessDisplayShow);

            //var userGuessDisplay = computerChoosenHint.replace(/computerChoosenHint[letterGuessPosition]/g,event.key);
            //console.log(computerChoosenHint[letterGuessPosition]);
            //console.log(" user guessed correct word display as: " + userGuessDisplay);
            //if (letterGuessPosition !== -1) {
            //    computerChoosenHintArray[letterGuessPosition] = event.key;
            //    console.log(" user guessed correct word is: " + computerChoosenHintArray);
            //}
            
        
        
        //for (var i=0; i < computerChoice.length; i++) {
        //        console.log("the brand computer choose has length: " + computerChoice.length);
        // }

        //for (var i=0; i<wordArr.length;i++) {
         //   var computerChoice = wordArr[Math.floor(Math.random() * wordArr.length)];
         //   console.log("Brand choice from computer is: " + computerChoice);
         //   console.log("the length of computer choosen brand is: " + computerChoice.length);
         //   var computerChoosenHint = "x".repeat(computerChoice.length);
            //console.log("the word looks like this: "+ computerChoosenHint);
         //   var wordHintDisplay = document.getElementById("game");
         //   wordHintDisplay = computerChoosenHint;
         //   console.log("display is: " + wordHintDisplay);
         //   wordHintDisplay.innerHTML = "the word looks like this: "+ computerChoosenHint;
            //brand = wordArr[i];
            //console.log(brand);
            //var brandHint = "x".repeat(wordArr[i].length);
            //console.log(brandHint);
            //console.log(wordArr[i].length);
            //var j;
            //for (j=0; j<wordArr[i].length;j++) {
            //    console.log("the " + (j+1) + " character is " + wordArr[i][j]);
            //}
        //}
    




    </script>
</body>
</html>